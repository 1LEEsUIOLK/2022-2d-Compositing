# Tracking

멀리 있는 곳은 느리게, 가까이 있는 것은 빠르게 지나감

2디 3디 트래커 사용할 예정 - 그냥 쓰임만 다를 뿐

: 픽셀 데이터를 읽어서 의도한 대로 이동하게 만드는 것!

learn.foundry.com/nuke

## Tracker

지정한 어떤 것을 따라가는 것

- add track 누르면 네모 박스 생김(트래커) → 특정 패턴 인식할 수 있도록 (나무 들어가게) 영역을 정함
- 안쪽, 바깥 조절자가 있는데 바깥 조절자는 카메라가 넘어갈 때 있을 요소까지 잡아주는 것(이동하는 것을 고려해서 지정되는 것)
    
    → 적정 수준을 잡아줘야 함(조절자로 범위 정할 때 처음 플레이트 움직임 보고 좌우로 움직임이 더 많다 하면 그렇게 지정하기 _ 가로로 생각보다 길게 잡아주심 교수님은)
    
- 안쪽 조절자는 패턴을 인지하는 부분
- 바깥쪽은 카메라가 움직이는 범위
- 가운데 포인트는 특정 픽셀의 패턴(contrast가 강한 부분에 잡거나 요소에 그냥 잡아도 됨)

- 툴 바 를 보면 툴이 위에 추가되는데 → 왼쪽 위에 플러스 누르면 add track 됨
- 툴 바에 있는 track next 이런 눌러줘야 트랙이 됨
- track to end 하면 렌더링 걸림
- Ref frame 에서 트랙이 계속 업데이트 됨(뷰어 상에서는 확인 못 함)
- 점점점 찍히는 것들이 십자가 위치임
- 신호등 아이콘 누르면 잘 되고 있는지 확인 가능 - 초록 : 잘 됨 / 빨강 : 트래킹 살짝 어색한 것 같다
- x 자 표시된 오른쪽에 아이콘들 누르면 그 앞쪽이든 뒤쪽부터든 날려버릴 수 있다. 왼쪽거 클릭하면 앞쪽 날라가고 오른쪽 누르면 뒤쪽 날라감
- R 자 붙은 아이콘 누르면 frame range 고를 수 있음

### Tracker 1,2,3

- 트래커 하나로만 → 좌우 상하
- 트래커 두 개로 → 점과 점은 선이 되므로 기울기를 줄 수 있기에 (회전하는 정도를 파악 가능)
- 점 3개면 → depth를 표현할 수 있음 앞뒤를 표현할 수 있기 때문

tracker - transform  

뭔가 덮어씌우거나 가려야 하면 로토나 요소를 불러와서 동일하게 움직이는 위치로 배치 가능

Foundry Learn 페이지에 practical practice ~ 포스팅에 들어오면 플레이트 다운 가능

- transform (stabilize) 사용
- matchmove → input이랑 똑같이 원본 플레이트가 움직임(올려놓을 요소가 와야 하니까 merge 해서 colorwheel 로 바꿔치기 해달라 하면  )
- 컬러 휠에 트랜스폼 달고 또 트랜스폼매칭으로 하고  이거랑 원본이랑 머지 해서
- error one track  신호등 옆에 있는거 클릭하면 ,,,

## One point tracking

- 오른쪽 노드에서 t transform / r rotate s scale 값을 사용하겟다 하면 클릭해줘야 함 엑스 나오게
- 트래킹 밀리면 잡아줄 때까지 영역 재 설정하기
- framehold(한 프레임만 필요해서 사용하는 거임) 노드 → merge mask → transform - match move -
- transform ( stabilize, naked)

 (translate 값)ctrl 누르면서 커브 키 tracker 에서 transform 으로 옮기면 초록 선 생기면서 같은 걸로 트래킹 만들어짐

## Two point tracking

tracker 1개 씩만 만들어지니까 2개 만들면 됨

- stabliize → 안 흔들리게 만들고 붙일 것을 붙이고 다시 흔들게 만들면 같이 움직일 거임 —- 이 역할임

- t, r 에 체크를 해서 둘 다 쓰겠다 임
    
    트랙 2개를 체크하면 그 평균값을 적용함
    

tracker - transform 가면 none 이라고 되어 있음 → transform 에 가서 matchmove 나 등등 하면 

- 트래커에서 수동으로 임의로 움직여서 맞춰주면 키 프레임이 생김
- 조절자 컨트롤 키 누르고 하면 정방향으로 맞출 수 있음

### Four point Tracking

하면 cornerpin2D 노드도 사용 가능→ blur 도 여기에다가 사용하기도 ㅇㅇ

set to input

## CameraTracker

: 카메라를 추출해 내는 것 

센서에 이미지가 기록이 되는 건데 평면적인 정보만 들어감 (빛 정보만 들어감) → 그래서 합성할 때 

(카메라가 안 움직인다면 카메라트래커를 사용하지 않아도 됨)

nuke x / nuke studio 에서 카메라트래커 사용 가능

- add user track 왼쪽 상단 툴 바에서 클릭
- 트래커 모양이 살짝 다름
- 그냥 계속 클릭하면 됨

## Camera Tracking 노드

소스에 대한 상태 설정가능(시퀀스냐 ~)

preview features 누르면 프리뷰..

### 카메라 정보

((촬영할 때 체커보드를 가지고 다녀서 샷 찍기 전마다 먼저 찍고 나중에 누크에서 편집할 때 그거에 맞춰서 렌즈 왜곡을 고침))

실사 촬영할 때 참고하기 ! 

⇒ 인터넷에 떠도는 저런 체크보드 확인하고 맞춰서 나중에 최종본에도 왜곡을 줘야 함

focal  length 몇 밀리 렌즈로 촬영했는가

solve 눌러주면 초록색으로 표시되면서 계산확인 할 수 있음

실패한 애들이 있으면 autotrack으로 가서 max track error 수치를 낮춰주기(빨갛게 표시된 애들은 어차피 못 쓰니까 고쳐주기)

delete rejected 누르면 빨간 거 사라짐

그다음에 다시 solve로 업데이트하면 남은 애들로 카메라를 구상함

** viewerhand - maya ~ 이러고 환경설정하면 카메라 움직임!

- 그다음에 카메라 노드 써서 카메라의 움직임 확인 가능 (tab)
- 사람이 카메라를 들고 찍었는데 카메라 노드는 땅에서 찍었다는 전제 하여 설정됨 → 바닥으로 인식하는 부분을 설정해야 함
- export 에 scene 으로도 바꿀 수 있음
- feature 에서 우클릭하면 ground plane 에 set  ~~ 맨 첫 번째 거 —> 그러면 바닥설정 가능
- 추출한 feature들의 컬러 정보를 카메라에 전달하는 거임 : camera tracking fact cloud?
- scan line render → 카메라 , 씬이 있어야 사용 가능(bg 는 넣어도 되고 안 넣어도 됨)
- 3디 툴 바에 object, face, …. camera 모양 오른쪽에 있는 거 선택하면 달라짐

** d 누르면 X 뜸

I in O out 찍으면 그 영역 안에서만 플레이 됨

실사로 footage 만들거면 단렌즈로 하기 ! 

복도 사진은 3차원처럼 눈속임? 할 수 있음
